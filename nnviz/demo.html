<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Demo</title>
  </head>

  <body>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script>

    var svg_width = 800;
    var svg_height = 1600;

    var node_coord_start_x = 50;
    var node_coord_start_y = 50;
    var node_width = 100;
    var node_height = 30;
    var node_fill = "#e3e3e3";
    var label_fill = "black";

    // svgContainer
    var svgContainer = d3.select("body").append("svg")
                                        .attr("width", svg_width)
                                        .attr("height", svg_height);
    // json
    d3.json("network.json", function(error, netData) {
        if (error) throw error;
        update(netData);
    });

    // update nodes
    function update(netData) {
        var nodes = svgContainer.selectAll("rect")
                                  .data(netData)
                                  .enter()
                                  .append("rect")
                                  .attr("x", function (d) { return node_coord_start_x; })
                                  .attr("y", function (d) { return node_coord_start_y + d.id * node_height * 2; })
                                  .attr("width", node_width )
                                  .attr("height", node_height )
                                  .style("fill", node_fill);

        var labels = svgContainer.selectAll("text")
                                 .data(netData)
                                 .enter()
                                 .append("text")
                                 .attr("x", function (d) { return node_coord_start_x; })
                                 .attr("y", function (d) { return node_coord_start_y + d.id * node_height * 2; })
                                 .text(function (d) { return d.name; })
                                 .attr("font-family", "sans-serif")
                                 .attr("font-size", "10px")
                                 .attr("fill", label_fill);
    }
    </script>
  </body>
</html>
